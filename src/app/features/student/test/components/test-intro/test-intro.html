<div class="max-w-4xl mx-auto py-12 animate-fade-in">
  <div class="text-center mb-12">
    <div
      class="w-20 h-20 bg-indigo-600 rounded-3xl flex items-center justify-center mx-auto mb-6 text-white shadow-xl rotate-3"
    >
      <lucide-angular [img]="icons.Award" class="w-10 h-10" />
    </div>
    <h1 class="text-4xl font-black text-slate-900 mb-3 tracking-tight">
      Mock Test: {{ lessonTitle() }}
    </h1>
    <p class="text-slate-500 max-w-md mx-auto text-lg leading-relaxed">
      Choose your preferred assessment mode to begin.
    </p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
    @for (cat of categories; track cat.id) {
      <button
        (click)="selectedCategory.set(cat.id)"
        [class]="
          `
               group relative p-6 rounded-4xl border-2 text-left transition-all duration-300
               ${
                 selectedCategory() === cat.id
                   ? 'border-indigo-600 bg-indigo-50/50 shadow-xl shadow-indigo-100'
                   : 'border-slate-100 bg-white hover:border-slate-300 hover:bg-slate-50'
               }
             `
        "
      >
        <div class="flex items-start gap-5">
          <div
            [class]="
              `w-14 h-14 rounded-lg flex items-center justify-center transition-colors ${selectedCategory() === cat.id ? 'bg-indigo-600 text-white' : 'bg-slate-100 text-slate-400 group-hover:bg-slate-200'}`
            "
          >
            <lucide-angular [img]="cat.icon" class="w-7 h-7" />
          </div>
          <div class="flex-1">
            <h3
              [class]="
                `text-xl font-black mb-1 ${selectedCategory() === cat.id ? 'text-indigo-900' : 'text-slate-800'}`
              "
            >
              {{ cat.label }}
            </h3>
            <p
              [class]="
                `text-sm font-medium ${selectedCategory() === cat.id ? 'text-indigo-600/70' : 'text-slate-400'}`
              "
            >
              {{ cat.desc }}
            </p>
          </div>
          @if (selectedCategory() === cat.id) {
            <div class="bg-indigo-600 text-white rounded-full p-1 shadow-sm">
              <lucide-angular [img]="icons.CircleCheck" class="w-5 h-5" />
            </div>
          }
        </div>
      </button>
    }
  </div>

  <div class="flex flex-col sm:flex-row gap-4 justify-center">
    <p-button variant="outlined" class="h-14 px-10 rounded-lg font-bold" (click)="onCancel.emit()"
      >Cancel</p-button
    >
    <p-button
      size="large"
      class="h-14 px-12 rounded-lg font-black shadow-xl shadow-indigo-100"
      (click)="onStart.emit()"
      >Start Assessment</p-button
    >
  </div>
</div>
